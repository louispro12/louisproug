<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Premier League Table | Louis Lynx</title>
<meta name="description" content="Current English Premier League standings with upcoming fixtures.">
<meta name="keywords" content="Premier League, Football, EPL, Standings, Louis Lynx">
<meta name="author" content="Louis Lynx">
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  color: #222;
}
header {
  text-align: center;
  padding: 20px;
  background: #111;
  color: #fff;
}
h1 {
  margin: 0;
}
table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}
th, td {
  padding: 8px;
  text-align: center;
  border: 1px solid #ddd;
}
.team-logo {
  width: 25px;
  vertical-align: middle;
  margin-right: 5px;
}
.stats-button {
  display: inline-block;
  margin: 20px 10px 20px 0;
  padding: 10px 20px;
  background-color: #FF5733;
  color: #fff;
  text-decoration: none;
  border-radius: 8px;
  transition: background 0.3s;
}
.stats-button:hover {
  background-color: #e04e2f;
}
.form-badge {
  display: inline-block;
  width: 20px;
  height: 20px;
  line-height: 20px;
  border-radius: 50%;
  color: #fff;
  font-weight: bold;
  margin: 0 1px;
  font-size: 12px;
}
.form-W { background: #28a745; }
.form-D { background: #ffc107; color: #000; }
.form-L { background: #dc3545; }
</style>
</head>
<body>

<header>
  <h1>English Premier League Standings</h1>
  <a href="2025_26_Player_Stats.html" class="stats-button">Player Statistics</a>
  <a href="epl-2025-transfers.html" class="stats-button">Summer Transfers</a>
</header>

<main>
<table id="pl-table">
  <thead>
    <tr>
      <th>Pos</th>
      <th>Team</th>
      <th>Pl</th>
      <th>W</th>
      <th>D</th>
      <th>L</th>
      <th>GF</th>
      <th>GA</th>
      <th>GD</th>
      <th>Pts</th>
      <th>Form</th>
    </tr>
  </thead>
  <tbody>
    <tr><td colspan="11">Loading data...</td></tr>
  </tbody>
</table>
</main>

<footer>
<p>Â© 2025 Louis Lynx | All Rights Reserved</p>
</footer>

<script>
// Load data from local JSON
async function fetchPLTable() {
  try {
    const response = await fetch('pl-data.json');
    const data = await response.json();
    const tableBody = document.querySelector("#pl-table tbody");
    tableBody.innerHTML = "";

    data.standings.forEach(team => {
      const tr = document.createElement("tr");

      // Create form badges
      let formHtml = '';
      team.form.split('').forEach(f => {
        const cls = f === 'W' ? 'form-W' : f === 'D' ? 'form-D' : 'form-L';
        formHtml += `<span class="form-badge ${cls}">${f}</span>`;
      });

      tr.innerHTML = `
        <td>${team.position}</td>
        <td><img class="team-logo" src="${team.team.crestUrl}" alt="${team.team.name}"> ${team.team.name}</td>
        <td>${team.playedGames}</td>
        <td>${team.won}</td>
        <td>${team.draw}</td>
        <td>${team.lost}</td>
        <td>${team.goalsFor}</td>
        <td>${team.goalsAgainst}</td>
        <td>${team.goalDifference}</td>
        <td>${team.points}</td>
        <td>${formHtml}</td>
      `;
      tableBody.appendChild(tr);
    });

  } catch(err) {
    console.error(err);
    document.querySelector("#pl-table tbody").innerHTML = `<tr><td colspan="11">Failed to load data. Try again later.</td></tr>`;
  }
}

// Fetch table on page load
fetchPLTable();
</script>

</body>
</html>
